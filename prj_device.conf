# Zephyr Configuration for nRF52840 USB-UART-ESB Bridge (DEVICE)

# Enable USB device support
CONFIG_USB_DEVICE_STACK=y
CONFIG_USB_DEVICE_MANUFACTURER="ESB Link"
CONFIG_USB_DEVICE_PRODUCT="USB-UART ESB Bridge Device"
CONFIG_USB_DEVICE_VID=0x2FE3
CONFIG_USB_DEVICE_PID=0x0101

# Enable USB CDC ACM (USB Serial)
CONFIG_USB_CDC_ACM=y
CONFIG_USB_CDC_ACM_RINGBUF_SIZE=1024
CONFIG_USB_CDC_ACM_DEVICE_NAME="CDC_ACM"

# Enable UART
CONFIG_SERIAL=y
CONFIG_UART_INTERRUPT_DRIVEN=y
CONFIG_UART_LINE_CTRL=y
CONFIG_UART_USE_RUNTIME_CONFIGURE=y

# Enable console
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y
CONFIG_USB_UART_CONSOLE=y

# Enable logging
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_USB_CDC_ACM_LOG_LEVEL_DBG=y

# Enable GPIO for LED indicators
CONFIG_GPIO=y

# Enable Nordic Enhanced ShockBurst (ESB) protocol
CONFIG_ESB=y
CONFIG_ESB_MAX_PAYLOAD_LENGTH=252

# Enable MPSL (Multi Protocol Service Layer)
CONFIG_MPSL=y
CONFIG_MPSL_FEM=n

# Memory settings
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# Enable threading
CONFIG_MULTITHREADING=y
CONFIG_NUM_PREEMPT_PRIORITIES=15