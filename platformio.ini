; PlatformIO Project Configuration File for nRF52840 USB-UART-ESB Bridge
;
; This project creates firmware for nRF52840 to act as a USB UART link
; to another identical board over the Enhanced ShockBurst (ESB) protocol using Zephyr RTOS

[env:esb_host]
platform = nordicnrf52
board = nrf52840_dk
framework = zephyr

; Use host-specific configuration file
board_build.cmake_extra_args = 
    -DCONF_FILE=prj_host.conf

; Build flags for USB CDC ACM and ESB protocol support (HOST mode)
build_flags = 
    -DESB_DEVICE_MODE=0

; Upload protocol
upload_protocol = jlink
debug_tool = jlink

; Monitor settings for debugging
monitor_speed = 115200
monitor_port = /dev/ttyACM0

; Libraries
lib_deps = 

[env:esb_device]
platform = nordicnrf52
board = nrf52840_dk
framework = zephyr

; Use device-specific configuration file
board_build.cmake_extra_args = 
    -DCONF_FILE=prj_device.conf

; Build flags for USB CDC ACM and ESB protocol support (DEVICE mode)
build_flags = 
    -DESB_DEVICE_MODE=1

; Upload protocol
upload_protocol = jlink
debug_tool = jlink

; Monitor settings for debugging
monitor_speed = 115200
monitor_port = /dev/ttyACM1

; Libraries
lib_deps = 
